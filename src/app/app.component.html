<mat-sidenav-container class="sidenav-container">
  <mat-sidenav mode="side" opened class="sidenav">
    <mat-nav-list style="color: white !important;background-color: transparent;">
      <mat-list-item style="color: white !important;background-color: transparent;">Dashboard</mat-list-item>
      <mat-list-item>Content queue</mat-list-item>
      <mat-list-item>Search & Filter</mat-list-item>
      <mat-list-item>Flagged Content</mat-list-item>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <mat-toolbar color="primary" class="toolbar">
      <mat-form-field class="search-box" appearance="outline">
        <mat-label>Search</mat-label>
        <input matInput placeholder="Search..." />
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>

      <span class="spacer"></span>

    </mat-toolbar>

    <div class="main-content">

      <div class="dashboard-header">
        <div class="header-text">
          <h2>Content Moderation Dashboard</h2>
          <span>Real-time metrics and content analysis</span>
        </div>
        <button mat-raised-button color="accent" (click)="onFetchNews()" [disabled]="isLoading" class="fetch-news-btn">
          <mat-icon *ngIf="!isLoading">download</mat-icon>
          <mat-spinner *ngIf="isLoading" diameter="20"></mat-spinner>
          &nbsp;{{ isLoading ? 'Fetching...' : 'Fetch News' }}
        </button>
      </div>

      <!-- Row 1: 4 equal-width cards -->

      <div class="card-row">
        <mat-card class="card stat-card">
          <div class="card-header">
            <span class="card-title">Total Content</span>
            <span class="card-change positive">+12.5%</span>
          </div>
          <div class="card-main-value">1,748</div>
          <div class="card-subtext">
            Today: <strong>1,253</strong>
          </div>
        </mat-card>

        <mat-card class="card stat-card">
          <div class="card-header">
            <span class="card-title">Flagged Content</span>
            <span class="card-change positive">+8.4%</span>
          </div>
          <div class="card-main-value">3</div>
          <div class="card-subtext">
            Pending review: <strong>237</strong>
          </div>
        </mat-card>

        <mat-card class="card stat-card">
          <div class="card-header">
            <span class="card-title">AI Confidence</span>
            <span class="card-change positive">+1.2%</span>
          </div>
          <div class="card-main-value">95%</div>
          <div class="card-subtext">
            Low confidence: <strong>89</strong>
          </div>
        </mat-card>

        <mat-card class="card stat-card">
          <div class="card-header">
            <span class="card-title">Avg. Response Time</span>
            <span class="card-change negative">-15.3%</span>
          </div>
          <div class="card-main-value">1070ms</div>
          <div class="card-subtext">
            Peak: <strong>412ms</strong>
          </div>
        </mat-card>
      </div>

      <!-- Row 2: 75% / 25% -->
      <div class="card-row split-75-25">

        <mat-card class="card wide">
          <app-content-trends-chart></app-content-trends-chart>
        </mat-card>

        <mat-card class="card narrow">
          <app-content-categories-chart></app-content-categories-chart>
        </mat-card>
      </div>

      <!-- Row 3: full width -->
      <div class="card-row">
        <mat-card class="card full-width">
          <mat-icon>flag</mat-icon>
          <h3>Recent Flagged Content</h3>
        </mat-card>
      </div>

      <!-- Row 4: 75% / 25% -->
      <div class="card-row split-75-25">
        <mat-card class="card wide">
          <mat-icon>rule</mat-icon>
          <h3>AI Moderation Rules</h3>
        </mat-card>
        <mat-card class="card narrow">
          <mat-icon>trending_up</mat-icon>
          <h3>AI Performance</h3>
        </mat-card>
      </div>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>